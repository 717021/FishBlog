Vue.component("side-area",{data:function(){return{contentTagsLoaded:!1,contentClassesLoaded:!1,contentDatesLoaded:!1,contentAllTagsLoaded:!1,contentAllClassesLoaded:!1,contentAllDatesLoaded:!1,contentTags:null,contentDates:null,contentClasses:null,allClassCount:0,allDateCount:0,allTagCount:0}},methods:{loadAll(){var main=this,tags_url=address_blog_api+"tags?maxCount=15",classes_url=address_blog_api+"classes?maxCount=5",dates_url=address_blog_api+"month?maxCount=5";$.get(tags_url,function(response){response.success&&(main.contentTagsLoaded=!0,main.contentTags=response.data.list,main.allTagCount=response.data.allCount)},"json"),$.get(classes_url,function(response){response.success&&(main.contentClassesLoaded=!0,main.contentClasses=response.data.list,main.allClassCount=response.data.allCount)},"json"),$.get(dates_url,function(response){response.success&&(main.contentDatesLoaded=!0,main.contentDates=response.data.list,main.allDateCount=response.data.allCount)},"json")},loadMoreTags(){var main=this;$.get(address_blog_api+"tags",function(response){response.success&&(main.contentTags=response.data,main.contentAllTagsLoaded=!0,main.allClassCount=response.data.length)},"json")},loadMoreDates(){var main=this;$.get(address_blog_api+"month",function(response){response.success&&(main.contentDates=response.data,main.contentAllDatesLoaded=!0)},"json")},loadMoreClasses(){var main=this;$.get(address_blog_api+"classes",function(response){response.success&&(main.contentClasses=response.data,main.contentAllClassesLoaded=!0)},"json")},goViewTag(tagId){var newUrl=partPositions.viewTag+tagId+"/";0==location.pathname.indexOf(partPositions.viewTag)&&location.pathname!=partPositions.viewAll?location.href=newUrl:window.open(newUrl)},goViewDate(year,month){var newUrl=partPositions.viewDate+year+"/"+month+"/";0==location.pathname.indexOf(partPositions.viewDate)&&location.pathname!=partPositions.viewAll?location.href=newUrl:window.open(newUrl)},goViewClass(classIdOrName){var newUrl=partPositions.viewClass+classIdOrName+"/";0==location.pathname.indexOf(partPositions.viewClass)&&location.pathname!=partPositions.viewAll?location.href=newUrl:window.open(newUrl)},getDateString:function(str){return arr=str.split("-"),arr[0]+" 年 "+arr[1]+" 月"}},template:'<div><div class="blog-side-content mt-3 no-display-sm no-display-md"><div class="blog-side-head mb-3"><div class="author"><img class="img-responsive mt-3" src="/images/default/head-img.jpg" alt="head-img"></div><div class="author_name"><a href="https://www.imyzc.com/about.html" title="梦想的小鱼">DreamFish</a><span>博主</span></div><p>喜欢自己 快乐随意<br>I\'m an ugly man...</p></div></div><div class="blog-side-content mt-3"><h5 class="blog-title">分类标签</h5><div class="tags" v-if="contentTagsLoaded"><a v-for="tag in contentTags" class="tag-color" v-on:click="goViewTag(tag.id)"href="javascript:void(0);" :id="\'tag_\'+tag.id":style="\'background-color:#\'+tag.color+\';\'">{{ tag.name }}</a></div><div v-if="contentTagsLoaded && allTagCount > 15 && !contentAllTagsLoaded" class="text-center mt-2"><button v-on:click="loadMoreTags" class="flat flat-btn btn-link">显示全部</button></div></div><div class="blog-side-content mt-3"><h5 class="blog-title">文章归档</h5><div class="dates" v-if="contentDatesLoaded"><a v-for="date in contentDates" class="tag-color" v-on:click="goViewDate(date.date.substr(0,4), date.date.substr(5, 2))" href="javascript:void(0);">{{ getDateString(date.date) + \' (\' + date.count + \')\' }}</a></div><div v-if="contentDatesLoaded && allDateCount > 5 && !contentAllDatesLoaded" class="text-center mt-2"><button v-on:click="loadMoreDates" class="flat flat-btn btn-link">显示全部</button></div></div><div class="blog-side-content mt-3"><h5 class="blog-title">文章分类</h5><div class="tags" v-if="contentClassesLoaded"><a v-for="pclass in contentClasses" class="tag-color bg-info"v-on:click="goViewClass(pclass.urlName ? pclass.urlName : pclass.id)"href="javascript:void(0);">{{ pclass.title + \' (\' + pclass.count + \')\' }}</a></div><div v-if="contentClassesLoaded && allClassCount > 5 && !contentAllClassesLoaded" class="text-center mt-2"><button v-on:click="loadMoreClasses" class="flat flat-btn btn-link">显示全部</button></div></div></div>'});