var main;function initAuthInfoEnd(user){main.userInfoLoaded=!0,user&&(getUserHasPrivilege(user,userPrivileges.manageUsers)||user.level==userLevels.admin)?(user.level!=userLevels.admin&&0==(user.privilege&userPrivileges.manageAllArchives)||(main.userHasManagePrivilege=!0),main.currentUser=user,setTimeout(function(){"男"==user.gender?$("#radioMale").prop("checked",!0):"女"==user.gender&&$("#radioFemale").prop("checked",!1)},500)):main.tableUsersLoadStatus="noprivilege"}function initApp(){main=new Vue({el:"#main",data:{contentLoadStatus:contentLoadStatus,content:null,userInfoLoaded:!1,userHasManagePrivilege:!1,currentUser:null,currentUserIsMale:!1,currentUserIsFemale:!1,currentStartValid:!1},methods:{isCurrentUrlAndActive:function(page){return isCurrentUrlAndActive(page)},changeHead(){$("#avatar").click()},setGender(m){m?(main.currentUser.gender="男",$("#radioMale").prop("checked",!0),$("#radioFemale").prop("checked",!1)):(main.currentUser.gender="女",$("#radioMale").prop("checked",!1),$("#radioFemale").prop("checked",!0))},getUserHead:()=>isNullOrEmpty(main.currentUser.headimg)?"/images/default/head-default.png":getImageUrlFormHash(main.currentUser.headimg),submit(){this.currentStartValid=!0,isNullOrEmpty(main.currentUser.friendlyName)}}})}