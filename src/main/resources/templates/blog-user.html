<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="keywords" content="梦想小鱼的博客,ALONE SPACE,DreamFish,梦想小鱼的个人分享博客,梦想小鱼的个人分享平台,梦想小鱼">
    <meta name="description" content="梦想小鱼的个人分享博客-一只喜欢炫酷的程序猿的学习分享博客，分享IT技术，一起学习成长！">
    <title>用户简介</title>
    <link rel="stylesheet" rev="stylesheet" type="text/css" href="/assets/css/loader.min.css">
    <script type="text/javascript" src="/assets/js/config.js"></script>
    <script type="text/javascript" src="/assets/js/yzc-blog.min.js"></script>
    <script type="text/javascript">
        constConfig.autoFooter = false;
        setLoaderCSS(new Array(
            "/assets/libs/bootstrap/css/bootstrap.min.css",
            "/assets/libs/font-awesome/css/font-awesome.min.css",
            "yzc-blog.min.css"));
        setLoaderJS(new Array(
            address_blog_api + "settings.js",
            "/assets/libs/jquery/jquery.min.js",
            "/assets/libs/popper/popper.min.js",
            "/assets/libs/vue.js/vue.min.js",
            "/assets/libs/bootstrap/js/bootstrap.min.js",
            '/assets/libs/compress/base64.min.js',
            "blog-userauth-info.min.js", "blog-userfast-center.min.js",
            "utils.min.js", "string-hlp.min.js", "blog-user.min.js",
            "/assets/libs/sweetalert2/js/sweetalert2.min.js"));
    </script>
    <!--Baidu tongji-->
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?b817302b643ad43baed860443308c8d1";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <style>
        .user-head {
            position: absolute;
            width: 100px;
            height: 100px;
            top: 80px;
            left: 50%;
            margin-left: -50px;
            background-color: #efeff4;
            border-radius: 50%;
            padding: 18px
        }

        .user-head img {
            width: 64px;
            height: 64px
        }
    </style>
</head>

<body class="not-load">

    <!--Header-->
    <header id="header-minimum">
        <div class="container main-menu main-menu-white" style="padding-top: 40px; padding-bottom: 30px;">
            <div class="row align-items-center justify-content-between d-flex">
                <div class="nav-header-text">
                    <span class="logo" id="header-logo"></span>
                    <a href="/" id="header-title"></a>
                </div>
                <button type="button" class="icon-menu" id="mobile-nav-toggle"></button>
                <nav id="nav-menu-container" class="nav-menu-container">
                    <ul class="nav-menu sf-js-enabled sf-arrows" style="touch-action: auto;" id="header-menu">
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <!--Main-->
    <article id="main" class="md-padding bg-grey-no-border">
        <div class="container">
            <div class="row">
                <div v-if="currentUserLoadStatus=='loaded'" class="container">
                    <div class="row justify-content-center align-items-center">
                        <div class="col-sm-12 col-md-7 col-lg-5">
                            <div class="blog-side-content mt-3 no-display-sm no-display-md">
                                <div v-if="currentUserEditing" class="blog-side-head mb-3">
                                    <div class="author"
                                        :style="'background: url('+getUserCardBackground()+') center center no-repeat;'">
                                        <img :src="getUserHead()" alt="head-img" class="img-responsive mt-3"></div>
                                    <div class="author_name">

                                        <div class="h3 mt-2">编辑个人信息</div>

                                        <label for="userEmail" class="mt-2 mr-2">性别</label>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="radioMale" name="radioMale"
                                                class="custom-control-input" v-on:change="setGender(true)">
                                            <label class="custom-control-label" for="radioMale"><i
                                                    class="fa fa-mars mr-2 text-primary"></i>男</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="radioFemale" name="radioFemale"
                                                class="custom-control-input" v-on:change="setGender(false)">
                                            <label class="custom-control-label" for="radioFemale"><i
                                                    class="fa fa-venus mr-2" style="color: #f76fe5"></i>女</label>
                                        </div>
                                        <input type="text" class="flat mt-2" id="userFriendlyName" placeholder="我的昵称"
                                            v-model="currentUser.friendlyName">
                                        <input type="text" class="flat mt-2" id="userHome" placeholder="我的个人主页地址"
                                            v-model="currentUser.home">
                                        <input type="text" class="flat mt-2" id="userHead" placeholder="我的头像URL地址"
                                            v-model="currentUser.headimg">
                                        <input type="text" class="flat mt-2" id="userCardBackground"
                                            placeholder="名片背景URL地址" v-model="currentUser.cardBackground">
                                        <textarea rows="3" class="flat mt-2" id="userIntroduction"
                                            placeholder="我的个人简介文字" v-model="currentUser.introduction"></textarea>
                                    </div>
                                    <button class="btn btn-primary flat-pill" v-on:click="save()">保存</button>
                                    <button class="btn btn-secondary flat-pill"
                                        onclick="location.reload(true)">取消</button>
                                </div>
                                <div v-else class="blog-side-head mb-3">
                                    <a style="position:absolute;right:25px;top:139px;z-index:100;background-color: #fff;padding-bottom: .65rem;"
                                        class="btn flat-round flat-icon" href="javascript:;" v-on:click="edit()"
                                        title="编辑个人信息" data-toggle="tooltip" v-if="currentAuthed"><i
                                            class="fa fa-pencil"></i></a>
                                    <a style="position:absolute;right:75px;top:139px;z-index:100;background-color: #fff;padding-bottom: .65rem;"
                                        class="btn flat-round flat-icon" href="javascript:;"
                                        v-on:click="messageCenter()" title="我的消息" data-toggle="tooltip"
                                        v-if="currentAuthed"><i class="fa fa-commenting-o"></i><span v-if="currentAuthedUser.messageCount" class="current-user-message-count" style="position: absolute;font-size: 10px;background-color: #ff5029;color: #fff;border-radius: 13px;right: 2px;top: -4px;height: 16px;padding: 0 4px;line-height: 16px;text-align: center;">{{ currentAuthedUser.messageCount }}</span></a>
                                    <div class="author"
                                        :style="'background: url('+getUserCardBackground()+') center center no-repeat;'">
                                        <img :src="getUserHead()" alt="head-img" class="img-responsive mt-3"></div>
                                    <div class="author_name">
                                        <a v-if="currentUser.gender == '男'"><i
                                                class="fa fa-mars mr-2 text-primary"></i></a>
                                        <a v-if="currentUser.gender == '女'"><i class="fa fa-venus mr-2"
                                                style="color: #f76fe5"></i></a>
                                        <a :href="currentUser.home" target="_blank">{{ getFriendlyName() }}</a><span
                                            v-if="currentUser.level==1">博主</span></div>
                                    <p v-if="currentUser.introduction&&currentUser.introduction!=''"
                                        v-html="currentUser.introduction"></p>
                                    <p v-else class="text-secondary">Ta 很懒，什么简介也没写~</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div v-else-if="currentUserLoadStatus=='loading'"
                    style="max-width: 400px;margin: 0 auto; padding: 10px">
                    <div class="simple-loading-center">
                        <div class="simple-loading-container">
                            <span class="simple-loading"></span>
                            <p>拼命加载中</p>
                        </div>
                    </div>
                </div>
                <div v-else-if="currentUserLoadStatus=='failed'" style="max-width: 400px;margin: 0 auto; padding: 10px">
                    <div
                        class="box full text-center text-danger d-flex justify-content-center align-items-center flex-column">
                        <i class=" fa fa-times-circle-o" aria-hidden="true" style="font-size: 3.5em"></i>
                        <p class="text-secondary mt-2"><span class="h4">404</span><br />
                            页面加载失败了（T-T）<br />{{ currentUserLoadError }}</p>
                        <button type="button" class="btn btn-primary" onclick="location.href='/'">返回首页</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="messageCenterModal" tabindex="-1" role="dialog" aria-labelledby="messageCenterModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="messageCenterModalLabel">我的消息</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <common-table ref="tableMessages" class="mt-3" v-bind:columns="tableMessagesColumns"
                            v-bind:items="tableMessagesDatas" v-bind:show-check-boxes="true"
                            v-bind:loaded-status="tableMessagesLoadStatus" v-bind:null-text="'您还没有消息哦！'"
                            v-on:item-click="tableMessagesItemClick"
                            v-on:item-customer-click="tableMessagesCustomItemClick" v-on:retry-load="loadMessages(true)">
                            <template slot="marchives-slot" slot-scope="itemData">
                                <button type="button" class="btn btn-primary"
                                    v-on:click="tableMessagesCustomItemClick('read', itemData.item)">已读</button>
                                <button type="button" class="btn btn-danger"
                                    v-on:click="tableMessagesCustomItemClick('del', itemData.item)">删除</button>
                            </template>
                        </common-table>
                        <common-pagination ref="tablePaginationAll" v-bind:current-page="tableMessagesPageCurrent"
                            v-bind:all-page="tableMessagesPageAll" v-on:item-click="tableMessagesPagerClick"
                            v-on:page-size-changed="tableMessagesPageSizeChanged">
                            <template slot="left-slot">
                                <div class="my-1 mr-3"><span class="mr-2">选中项</span>
                                    <button type="button" class="btn btn-danger"
                                        v-on:click="tableMessagesCustomItemClick('del-all')">删除</button>
                                    <button type="button" class="btn btn-success" v-on:click="read()"><i
                                            class="fa fa-flag-checkered"></i> 已读</button>
                                    <button type="button" class="btn btn-secondary" v-on:click="readAll()"><i
                                            class="fa fa-check"></i> 全部已读</button>
                                </div>

                            </template>
                        </common-pagination>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="messageDatailModal" tabindex="-1" role="dialog" aria-labelledby="messageDatailModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="messageDatailModalLabel">消息详情</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <h3>{{currentMessageTitle}}</h3>
                  <div v-html="currentMessageContent"></div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal" v-on:click="messageCenter()">关闭</button>
                </div>
              </div>
            </div>
          </div>

    </article>
    <footer>
        <div class="row align-items-center  justify-content-center mt-3">
            <p class="text-secondary">Copyright © 2019 Dreamfish.</p>
        </div>
    </footer>

</body>

</html>